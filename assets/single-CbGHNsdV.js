import"./lobby-DK9NN18H.js";import{l as g,c as E}from"./index-aDK3yQ8k.js";const m=document.getElementById("btn-back");m==null||m.addEventListener("click",()=>{var i;const e=window.__tetris;if(e&&e.getStatus&&e.getStatus()==="playing"&&!((i=e.isPaused)!=null&&i.call(e))){const s=document.createElement("div");s.style.cssText="position:fixed;inset:0;background:rgba(0,0,0,0.5);display:grid;place-items:center;z-index:2000;";const c=document.createElement("div");c.className="panel",c.style.cssText="width:min(420px,92vw);",c.innerHTML='<h2 style="margin:0 0 8px;">게임을 멈추고 나가시겠습니까?</h2><p class="muted" style="margin:0 0 12px;">진행 중인 게임은 일시정지됩니다.</p>';const n=document.createElement("div");n.className="row";const a=document.createElement("button");a.textContent="취소";const o=document.createElement("button");o.textContent="나가기",n.appendChild(a),n.appendChild(o),c.appendChild(n),s.appendChild(c),document.body.appendChild(s),a.addEventListener("click",()=>document.body.removeChild(s)),o.addEventListener("click",()=>{var d;try{(d=e.pause)==null||d.call(e)}catch{}location.href="../index.html"})}else location.href="../index.html"});(function(){const e=(localStorage.getItem("tetris_nick")||"").trim()||"Anonymous",l=document.getElementById("nick-badge");l&&(l.textContent=`닉네임: ${e}`)})();function h(){const e=document.getElementById("single-scoreboard");if(!e)return;e.innerHTML="";const i=g().sort((t,r)=>r.score-t.score||r.date.localeCompare(t.date)).slice(0,10),s=localStorage.getItem("tetris_player_name")||localStorage.getItem("tetris_nick")||"",c=E(s||""),n=document.createElement("div");n.className="single-sb-header";const a=document.createElement("div");a.className="single-sb-title",a.textContent="싱글 하이스코어 Top 10";const o=document.createElement("div");o.className="single-sb-rank",o.textContent=s?c?`내 순위: ${c}위`:"내 순위: 기록 없음":"내 순위: 닉네임이 설정되지 않았습니다",n.appendChild(a),n.appendChild(o),e.appendChild(n);const d=document.createElement("table");d.innerHTML='<thead><tr><th class="num">#</th><th>Name</th><th class="num">Score</th><th class="num">Level</th><th class="num">Lines</th><th class="num">Date</th></tr></thead>';const u=document.createElement("tbody");i.forEach((t,r)=>{const p=document.createElement("tr");p.innerHTML=`<td class="num">${r+1}</td><td>${t.name}</td><td class="num">${t.score.toLocaleString()}</td><td class="num">${typeof t.level=="number"?t.level:""}</td><td class="num">${typeof t.lines=="number"?t.lines:""}</td><td class="num">${new Date(t.date).toLocaleString()}</td>`,u.appendChild(p)}),d.appendChild(u),e.appendChild(d)}h();window.addEventListener("tetris:score-updated",h);
